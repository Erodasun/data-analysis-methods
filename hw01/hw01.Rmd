---
title: "Домашнее задание № 1"
author: "Potapova Marina"
date: "2024-10-19"
output:

---

## Работа с данными

По адресу http://people.math.umass.edu/~anna/Stat597AFall2016/rnf6080.dat можно получить набор данных об осадках в Канаде с 1960 по 1980 годы. Необходимо загрузить эти данные при помощи read.table. Воспользуйтесь справкой, чтобы изучить аргументы, которые принимает функция.

1. Загрузите данные в датафрейм, который назовите data.df.

```{r}
url <- "http://people.math.umass.edu/~anna/Stat597AFall2016/rnf6080.dat"
data.df <- read.table(url, header = FALSE)

```
2. Сколько строк и столбцов в data.df? Если получилось не 5070 наблюдений 27 переменных, то проверяйте аргументы. 

```{r}
dim(data.df)
```

3. Получите имена колонок из data.df.

```{r}
colnames(data.df)
```

4. Найдите значение из 5 строки седьмого столбца.

```{r}
data.df[5, 7]
```

5. Напечатайте целиком 2 строку из data.df

```{r}
data.df[2, ]
```

6.1 Объясните, что делает следующая строка кода names(data.df) <- c("year", "month", "day", seq(0,23)). 

```{r}
names(data.df) <- c("year", "month", "day", seq(0, 23))
```

Первые три колонки —  "year" (год), "month" (месяц) и "day" (день) показывают дату. Остальные 24 колонки — от 0 до 23 показывают осадки за каждый час дня.

6.2 Воспользуйтесь функциями head и tail, чтобы просмотреть таблицу. Что представляют собой последние 24 колонки?

```{r}
# Первые строки
head(data.df)
# Последние строки
tail(data.df)
```

Первый вывод с head(data.df) покажет нам первые строки датафрейма, которые помогут понять структуру данных и какие значения записаны в первых колонках (год, месяц, день). Последние 24 колонки, о которых мы говорим в выводе tail(data.df), содержат данные об осадках по часам в течение дня.

7.1 Добавьте новую колонку с названием daily, в которую запишите сумму крайних правых 24 колонок. 

```{r}
data.df$daily <- rowSums(data.df[, 4:27])
```

7.2 Постройте гистограмму по этой колонке. Какие выводы можно сделать?

```{r}
hist(data.df$daily, main = "Гистограмма дневных осадков", xlab = "Осадки (в мм)", ylab = "Частота")
```

На гистограмме можно увидеть распределение дневных осадков. Если большая часть значений сосредоточена в низком диапазоне, это может указывать на то, что дожди в основном небольшие.

8.1 Создайте новый датафрейм fixed.df в котром исправьте замеченную ошибку. 

```{r}
fixed.df <- data.df
fixed.df$daily[fixed.df$daily < 0] <- 0
```

8.2 Постройте новую гистограмму, поясните почему она более корректна.

```{r}
hist(fixed.df$daily, main = "Гистограмма исправленных дневных осадков", xlab = "Осадки (в мм)", ylab = "Частота")
```

## Синтаксис и типизирование

1. Для каждой строки кода поясните полученный результат, либо объясните почему она ошибочна.

```{r}
v <- c("4", "8", "15", "16", "23", "42")
max(v) # вернет "42", т.к. сравнение строк
sort(v) # сортирует как строки
# sum(v) выдаст ошибку, потому что текст нельзя складывать как числа
```

2. Для следующих наборов команд поясните полученный результат, либо объясните почему они ошибочна.

```{r}
v2 <- c("5",7,12)
# v2[2] + 2[3] ошибка, потому что мы пытаемся обратиться к элементу, который не существует

df3 <- data.frame(z1="5",z2=7,z3=12)
df3[1,2] + df3[1,3] # сложение: 7 + 12 = 19

l4 <- list(z1="6", z2=42, z3="49", z4=126)
l4[[2]] + l4[[4]] # вернет 168, сумма чисел
# l4[2] + l4[4] ошибка, потому что мы складываем списки, а не числа
```

## Работа с функциями и операторами

1. Оператор двоеточие создаёт последовательность целых чисел по порядку. Этот оператор — частный случай функции seq(), которую вы использовали раньше. Изучите эту функцию, вызвав команду ?seq. Испольуя полученные знания выведите на экран:

i. Числа от 1 до 10000 с инкрементом 372.

```{r}
seq(1, 10000, by = 372)
```

ii. Числа от 1 до 10000 длиной 50.

```{r}
seq(1, 10000, by = 372)
```

seq(1, 10000, length.out = 50)

2. Функция rep() повторяет переданный вектор указанное число раз. Объясните разницу между rep(1:5,times=3) и rep(1:5, each=3).

```{r}
rep(1:5, times=3) # повторяет всю последовательность (1, 2, 3, 4, 5) три раза 
```

```{r}
rep(1:5, each=3) # повторяет каждое число три раза 
```

